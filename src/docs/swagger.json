{"openapi":"3.0.0","info":{"title":"Template API","version":"1.0.0"},"servers":[{"url":"/","description":"Main server"}],"tags":[{"name":"Sessions","description":"Login related module"},{"name":"Users","description":"Users related module"},{"name":"Roles","description":"Roles related module"}],"paths":{"/sessions":{"post":{"tags":["Sessions"],"summary":"Route allows to authenticate an user","description":"Access allowed to any user","requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/schemas/loginParams"}}}},"responses":{"200":{"description":"Success","content":{"application/json":{"schema":{"$ref":"#/schemas/login"}}}},"400":{"$ref":"#/components/badRequest"},"403":{"$ref":"#/components/forbidden"},"500":{"$ref":"#/components/serverError"}}}},"/users":{"post":{"tags":["Users"],"summary":"Route to create users","description":"This route allows to create new users","requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/schemas/userParams"}}}},"responses":{"200":{"description":"Success","content":{"application/json":{"schema":{"$ref":"#/schemas/user"}}}},"400":{"$ref":"#/components/badRequest"},"500":{"$ref":"#/components/serverError"}}},"get":{"security":[{"bearerAuth":[]}],"tags":["Users"],"summary":"Route to list users","description":"This route allows to list users","responses":{"200":{"description":"Success","content":{"application/json":{"schema":{"$ref":"#/schemas/userResultAll"}}}},"401":{"$ref":"#/components/unauthorized"},"403":{"$ref":"#/components/forbidden"},"500":{"$ref":"#/components/serverError"}}}},"/users/{id}":{"get":{"security":[{"bearerAuth":[]}],"tags":["Users"],"summary":"Route to show a user data","description":"This route allows to show data for a specific user","parameters":[{"in":"path","name":"id","description":"User ID","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Success","content":{"application/json":{"schema":{"$ref":"#/schemas/userResult"}}}},"400":{"$ref":"#/components/badRequest"},"401":{"$ref":"#/components/unauthorized"},"403":{"$ref":"#/components/forbidden"},"404":{"$ref":"#/components/notFound"},"500":{"$ref":"#/components/serverError"}}},"put":{"security":[{"bearerAuth":[]}],"tags":["Users"],"summary":"Route to update user data","description":"This route allows to update a user data","parameters":[{"in":"path","name":"id","description":"User ID","required":true,"schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/schemas/userParams"}}}},"responses":{"200":{"description":"Success","content":{"application/json":{"schema":{"$ref":"#/schemas/userResult"}}}},"400":{"$ref":"#/components/badRequest"},"401":{"$ref":"#/components/unauthorized"},"403":{"$ref":"#/components/forbidden"},"404":{"$ref":"#/components/notFound"},"500":{"$ref":"#/components/serverError"}}},"delete":{"security":[{"bearerAuth":[]}],"tags":["Users"],"summary":"Route to delete user","description":"This route allows to delete a user","parameters":[{"in":"path","name":"id","description":"User ID","required":true,"schema":{"type":"string"}}],"responses":{"204":{"description":"no content"},"400":{"$ref":"#/components/badRequest"},"401":{"$ref":"#/components/unauthorized"},"403":{"$ref":"#/components/forbidden"},"500":{"$ref":"#/components/serverError"}}}},"/roles":{"post":{"tags":["Roles"],"summary":"Route to create roles","description":"This route allows to create new roles","requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/schemas/roleParams"}}}},"responses":{"200":{"description":"Success","content":{"application/json":{"schema":{"$ref":"#/schemas/role"}}}},"400":{"$ref":"#/components/badRequest"},"500":{"$ref":"#/components/serverError"}}},"get":{"security":[{"bearerAuth":[]}],"tags":["Roles"],"summary":"Route to list roles","description":"This route allows to list roles","responses":{"200":{"description":"Success","content":{"application/json":{"schema":{"$ref":"#/schemas/roleResultAll"}}}},"401":{"$ref":"#/components/unauthorized"},"403":{"$ref":"#/components/forbidden"},"500":{"$ref":"#/components/serverError"}}}},"/roles/{id}":{"get":{"security":[{"bearerAuth":[]}],"tags":["Roles"],"summary":"Route to show a role data","description":"This route allows to show data for a specific role","parameters":[{"in":"path","name":"id","description":"role ID","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"Success","content":{"application/json":{"schema":{"$ref":"#/schemas/roleResult"}}}},"400":{"$ref":"#/components/badRequest"},"401":{"$ref":"#/components/unauthorized"},"403":{"$ref":"#/components/forbidden"},"404":{"$ref":"#/components/notFound"},"500":{"$ref":"#/components/serverError"}}},"put":{"security":[{"bearerAuth":[]}],"tags":["Roles"],"summary":"Route to update role data","description":"This route allows to update a role data","parameters":[{"in":"path","name":"id","description":"role ID","required":true,"schema":{"type":"string"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/schemas/roleParams"}}}},"responses":{"200":{"description":"Success","content":{"application/json":{"schema":{"$ref":"#/schemas/roleResult"}}}},"400":{"$ref":"#/components/badRequest"},"401":{"$ref":"#/components/unauthorized"},"403":{"$ref":"#/components/forbidden"},"404":{"$ref":"#/components/notFound"},"500":{"$ref":"#/components/serverError"}}},"delete":{"security":[{"bearerAuth":[]}],"tags":["Roles"],"summary":"Route to delete role","description":"This route allows to delete a role","parameters":[{"in":"path","name":"id","description":"role ID","required":true,"schema":{"type":"string"}}],"responses":{"204":{"description":"no content"},"400":{"$ref":"#/components/badRequest"},"401":{"$ref":"#/components/unauthorized"},"403":{"$ref":"#/components/forbidden"},"500":{"$ref":"#/components/serverError"}}}}},"schemas":{"error":{"type":"object","properties":{"success":{"type":"boolean","example":"false"},"message":{"type":"string"}},"required":["success","message"]},"loginParams":{"type":"object","properties":{"email":{"type":"string"},"password":{"type":"string"}},"example":{"email":"user@template.com","password":"123456"},"required":["email","password"]},"login":{"type":"object","properties":{"user":{"$ref":"#/schemas/user"},"token":{"type":"string"}},"example":{"user":{"id":"0e817215-3af4-4e09-8951-9918f5c34f2e","email":"admin@template.com","name":"Admin","role_id":"5fe4f56a-dbc9-41f7-bc71-6b28ec18aa54","active":true,"avatar":"368411ebbfd838786cca-png-clipart-raised-fist-graphy-fist-miscellaneous-photography-thumbnail.png","created_at":"2022-03-24T17:36:47.880Z","updated_at":"2022-04-14T16:43:59.712Z"},"token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJyb2xlIjoiYWRtaW4iLCJpYXQiOjE2NTEwNzUwNDIsImV4cCI6MTY1MzY2NzA0Miwic3ViIjoiMGU4MTcyMTUtM2FmNC00ZTA5LTg5NTEtOTkxOGY1YzM0ZjJlIn0.98100Jw5YFS_R04dockS_xXvTjYoziElErz_slF2GIA"},"required":["email","senha"]},"user":{"type":"object","properties":{"id":{"type":"string"},"email":{"type":"string"},"name":{"type":"string"},"role_id":{"type":"string","format":"uuid"},"active":{"type":"boolean"},"created_at":{"type":"string"},"updated_at":{"type":"string"},"role":{"type":"object","properties":{"id":{"type":"string"},"name":{"type":"string"},"created_at":{"type":"string"},"updated_at":{"type":"string"}}}},"example":{"id":"c9d65c40-8efe-4b88-9cfc-ae7ece8d368a","email":"user@template.com","name":"User","role_id":"b197768d-66b4-4e09-bce3-441ff0173abe","active":false,"created_at":"2022-04-19T16:36:09.878Z","updated_at":"2022-04-19T16:36:09.878Z","role":{"id":"b197768d-66b4-4e09-bce3-441ff0173abe","name":"user","created_at":"2022-03-23T18:19:06.458Z","updated_at":"2022-03-23T18:19:06.458Z"}}},"userParams":{"type":"object","properties":{"name":{"type":"string"},"email":{"type":"string"},"password":{"type":"string"},"password_confirmation":{"type":"string"},"role_id":{"type":"string","format":"uuid"}},"example":{"name":"User","email":"user@template.com","password":"123456","password_confirmation":"123456","role_id":"b197768d-66b4-4e09-bce3-441ff0173abe"}},"userResult":{"type":"object","properties":{"success":{"type":"string"},"user":{"type":"object","properties":{"id":{"type":"string"},"email":{"type":"string"},"name":{"type":"string"},"role_id":{"type":"string","format":"uuid"},"active":{"type":"boolean"},"created_at":{"type":"string"},"updated_at":{"type":"string"},"role":{"type":"object","properties":{"id":{"type":"string"},"name":{"type":"string"},"created_at":{"type":"string"},"updated_at":{"type":"string"}}}},"example":{"id":"c9d65c40-8efe-4b88-9cfc-ae7ece8d368a","email":"user@template.com","name":"User","role_id":"b197768d-66b4-4e09-bce3-441ff0173abe","active":false,"created_at":"2022-04-19T16:36:09.878Z","updated_at":"2022-04-19T16:36:09.878Z","role":{"id":"b197768d-66b4-4e09-bce3-441ff0173abe","name":"user","created_at":"2022-03-23T18:19:06.458Z","updated_at":"2022-03-23T18:19:06.458Z"}}}}},"userResultAll":{"type":"object","properties":{"success":{"type":"boolean"},"result":{"type":"array","items":{"$ref":"#/schemas/user"}},"total_registers":{"type":"integer","example":1},"total_filtered":{"type":"integer","example":1},"page":{"type":"integer","example":1},"per_page":{"type":"integer","example":10},"total_pages":{"type":"integer","example":1}}},"role":{"type":"object","properties":{"id":{"type":"string"},"name":{"type":"string"},"created_at":{"type":"string"},"updated_at":{"type":"string"}},"example":{"id":"b197768d-66b4-4e09-bce3-441ff0173abe","name":"user","created_at":"2022-03-23T18:19:06.458Z","updated_at":"2022-03-23T18:19:06.458Z"}},"roleParams":{"type":"object","properties":{"name":{"type":"string"}},"example":{"name":"User"}},"roleResult":{"type":"object","properties":{"success":{"type":"string"},"user":{"type":"object","properties":{"id":{"type":"string"},"name":{"type":"string"},"created_at":{"type":"string"},"updated_at":{"type":"string"}},"example":{"id":"b197768d-66b4-4e09-bce3-441ff0173abe","name":"user","created_at":"2022-03-23T18:19:06.458Z","updated_at":"2022-03-23T18:19:06.458Z"}}}},"roleResultAll":{"type":"object","properties":{"success":{"type":"boolean"},"roles":{"type":"array","items":{"$ref":"#/schemas/role"}}}}},"components":{"securitySchemes":{"bearerAuth":{"type":"http","description":"Enter JWT Bearer Token **_only_**","scheme":"bearer","bearerFormat":"JWT"}},"badRequest":{"description":"Bad request","content":{"application/json":{"schema":{"$ref":"#/schemas/error"}}}},"serverError":{"description":"Internal server error","content":{"application/json":{"schema":{"$ref":"#/schemas/error"}}}},"notFound":{"description":"Not Found","content":{"application/json":{"schema":{"$ref":"#/schemas/error"}}}},"unauthorized":{"description":"Unauthenticated user","content":{"application/json":{"schema":{"$ref":"#/schemas/error"}}}},"forbidden":{"description":"User not authorized to access that resource","content":{"application/json":{"schema":{"$ref":"#/schemas/error"}}}}}}